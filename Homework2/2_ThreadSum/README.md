# 多线程求和程序

## 项目概述

本项目实现了一个基于Java多线程的求和计算程序。程序创建10个线程，每个线程计算特定范围内的数字之和，并将结果累加到共享变量中。

## 实现要求

1. 创建10个线程
2. sum的初值为零
3. 第一个线程对sum从1加到10
4. 第二个线程对sum从11加到20
5. 以此类推，第十个线程对sum从91加到100
6. 最后输出10个线程的结果

## 项目结构

本项目包含三个不同的实现版本：

1. **ThreadSum.java** - 基础实现版本，使用lambda表达式创建线程
2. **ThreadSumWithTask.java** - 使用任务类实现，通过实现Runnable接口创建线程任务

## 实现原理

### 共享变量

所有实现都使用了一个共享的`sum`变量作为累加结果的存储。为了保证多线程环境下的线程安全，不同版本采用了不同的同步机制：

1. 基础版本：使用`synchronized`块和`volatile`关键字
2. 任务类版本：使用`synchronized`块和对象锁

### 线程分工

每个线程负责计算10个连续整数的和：
- 线程0：计算1到10的和
- 线程1：计算11到20的和
- 线程2：计算21到30的和
- ...
- 线程9：计算91到100的和

### 结果验证

程序最后会输出计算结果，并与理论结果（使用高斯求和公式n*(n+1)/2计算）进行对比，验证计算的正确性。

## 运行说明

可以通过以下命令编译并运行各个版本：

```bash
# 编译
javac Homework2/2_ThreadSum/src/*.java

# 运行基础版本
java -cp Homework2/2_ThreadSum/src ThreadSum

# 运行任务类版本
java -cp Homework2/2_ThreadSum/src ThreadSumWithTask
```

## 各版本特点

### ThreadSum

- 基础实现，使用lambda表达式创建线程
- 使用synchronized块同步对共享变量的访问
- 使用volatile关键字确保变量的可见性

### ThreadSumWithTask

- 使用专门的任务类实现Runnable接口
- 更好的代码组织结构，提高可维护性
- 使用对象锁进行同步

## 注意事项

- 由于线程调度的不确定性，每次运行程序时线程执行的顺序可能不同
- 最终结果应该始终是5050（1到100的和）
- 使用join()方法确保主线程等待所有工作线程完成后再输出最终结果 